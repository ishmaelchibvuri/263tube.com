Master Prompt: Admin Control Plane & RBAC Integration
Context: I need to transition 263Tube from a public directory to a multi-tier platform with 3 User Tiers: ADMIN, CREATOR, and CLIENT. All users use the same login, but their functionality differs.

Task 1: Define the Tiers & Middleware

ADMIN: Full access to the /admin sub-route to approve submissions, edit any creator, and view platform-wide "Data Mining" stats.

CREATOR: Access to /dashboard/profile to update only their own details (Bio, Links).

CLIENT: Access to /dashboard/stats to view premium analytics (Engagement, Reach trends).

Task 2: The Admin Approval UI (app/admin/submissions/page.tsx)

Create a protected page that calls getPendingRequests().

Functionality:

Display a table/list of all PENDING_REQUEST items.

"Approve" Button: Triggers a Server Action approveCreator(requestId). This should:

Fetch the pending data.

Create a new CREATOR#slug / METADATA record.

Delete the PENDING_REQUEST record.

"Reject" Button: Deletes the pending record.

Task 3: Basic Data Mining Stats (app/admin/analytics/page.tsx)

Create a dashboard showing:

Total Platform Reach: Aggregate sum of all metrics.totalReach from all active creators.

Referral Leaderboard: Full list of all creators sorted by allTime referrals.

Category Distribution: A breakdown of how many creators are in #Farming vs #Comedy etc.

Task 4: Role-Based Routing Logic

Implement a helper function checkRole(requiredRole: string) that checks the current user's session.

If a CLIENT tries to access /admin, redirect them to the home page or a "Not Authorized" state.

Deliverables:

Admin Submissions Page with Approve/Reject logic.

Admin Analytics Page with basic data aggregation.

Server Actions to handle the approval workflow.

RBAC Logic to protect these routes.

Tier,UI Vibe,Primary Action
Admin,Control Center,"Review Queue, User Management, Global Stats."
Creator,Personal Branding,"""Update my Bio,"" ""See my Referral Link,"" ""Claim my Profile."""
Client,Intelligence Report,"""Search by Engagement,"" ""Export Stats to PDF,"" ""Compare Creators."""
